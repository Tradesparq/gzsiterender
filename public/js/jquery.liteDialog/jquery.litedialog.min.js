(function(d){var g=9000,c=[],f=d(document),e=d(window);function a(j){var h=c[c.length-1];if(j.keyCode===27&&h.data("esc")){h.liteDialog("hide")}}f.keyup(a);var b={init:function(h){var j={html:this,esc:true,shadow:"#000000",background:"transparent",color:"#000000",width:"300px",padding:"10px",prefix:null,zIndex:g,cancel:null};var k="hl"+g;g++;if(h){d.extend(j,h)}if(j.prefix){k=j.prefix}this.data("prefix",k).data("esc",j.esc).data("cancel",j.cancel);if(d("#"+k+"Sdw").length===0){d("<div id='"+k+"Sdw' style='position:fixed;top:0;left:0;'>").hide().css({height:f.height(),width:f.width()}).appendTo(document.body)}if(d("#"+k+"Dlg").length===0){d("<div id='"+k+"Dlg' style='position:absolute;'>").hide().appendTo(document.body)}d("#"+k+"Sdw").css({background:j.shadow,"z-index":j.zIndex}).fadeTo("fast",0.4);d("#"+k+"Dlg").html(j.html).width(j.width).css({color:j.color,background:j.background,padding:j.padding,top:(e.height()-d("#"+k+"Dlg").outerHeight())/2+e.scrollTop(),left:(e.width()-d("#"+k+"Dlg").outerWidth())/2+e.scrollLeft(),"z-index":j.zIndex+1}).fadeIn();c.push(this)},hide:function(){var j=this.data("prefix");d("#"+j+"Sdw, #"+j+"Dlg").fadeOut();g--;for(i=0;i<c.length;i++){if(c[i]==this){c.splice(i,1)}}var h=this.data("cancel");if(h){h()}}};d.liteDialog=d.fn.liteDialog=function(h){if(b[h]){return b[h].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof h==="object"||!h){return b.init.apply(this,arguments)}else{return b.init.apply(this,[{html:h}])}}}})($);